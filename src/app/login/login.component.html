<mat-card class="login-card">
    <mat-tab-group>
        <mat-tab label="Connexion">
            <mat-card-content class="content">
                <form ngForm class="login-form">
                    <mat-form-field>
                        <mat-label>Nom d'utilisateur</mat-label>
                        <input [(ngModel)]="loginForm.username" matInput name="username" required>
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Mot de passe</mat-label>
                        <input [(ngModel)]="loginForm.password" matInput name="password" required
                            [type]="hidePassword ? 'password' : 'text'">
                        <mat-icon class="visibility-icon" matSuffix (click)="hidePassword = !hidePassword">
                            {{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </mat-form-field>

                    <button mat-raised-button color="primary" class="submit-button" (click)="login()"
                        [disabled]="loginForm.isInvalid()">
                        Connexion
                    </button>

                </form>
            </mat-card-content>
        </mat-tab>
        <mat-tab label="Inscription">
            <mat-card-content class="content">
                <form ngForm class="login-form" [formGroup]="signupForm" (submit)="signup()">
                    <mat-form-field>
                        <mat-label>Nom</mat-label>
                        <input matInput formControlName="lastname" required />
                        <mat-error *ngIf="signupSubmitted && f.lastname.errors">
                            {{getErrorMessages('lastname',f.lastname.errors)}}
                        </mat-error>

                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Pr√©noms</mat-label>
                        <input matInput formControlName="firstname" required />
                        <mat-error *ngIf="signupSubmitted && f.firstname.errors">
                            {{getErrorMessages('firstname',f.firstname.errors)}}
                        </mat-error>

                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Nom d'utilisateur</mat-label>
                        <input matInput formControlName="username" required />
                        <mat-error *ngIf="signupSubmitted && f.username.errors">
                            {{getErrorMessages('username',f.username.errors)}}
                        </mat-error>

                    </mat-form-field>
                    
                    <mat-form-field>
                        <mat-label>Mot de passe</mat-label>
                        <input matInput minlength="8" formControlName="password" required
                            [type]="hidePassword ? 'password' : 'text'">
                        <mat-icon class="visibility-icon" matSuffix (click)="hidePassword = !hidePassword">
                            {{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                        <mat-error *ngIf="signupSubmitted && f.password.errors">
                            {{getErrorMessages('password',f.password.errors)}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Confirmer le mot de passe</mat-label>
                        <input matInput formControlName="confirmPassword"
                            [type]="hidePassword ? 'password' : 'text'">
                        <mat-icon class="visibility-icon" matSuffix (click)="hidePassword = !hidePassword">
                            {{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                        <mat-error *ngIf="signupSubmitted && f.confirmPassword.errors">
                            {{getErrorMessages('confirmPassword',f.confirmPassword.errors)}}
                        </mat-error>
                    </mat-form-field>

                    <button mat-raised-button color="primary" class="submit-button">
                        Inscription
                    </button>
                </form>
            </mat-card-content>
        </mat-tab>
    </mat-tab-group>
</mat-card>