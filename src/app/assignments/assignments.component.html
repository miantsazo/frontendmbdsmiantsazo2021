<mat-card>
  
<main class="container">
  <a routerLink="/add" class="ajouterBtn">
    <button mat-flat-button color="accent">
      Ajouter un assignment
    </button>
  </a>

  <mat-tab-group #tabgroup (selectedTabChange)="onTabClick($event)">
    <mat-tab label="Devoirs non-rendus">
      <ng-template matTabContent>
        <h1>Liste des assignments non-rendus</h1>
        <mat-divider></mat-divider>
        <nav>
          <button mat-raised-button color="primary" (click)="premierePage()">
            Première
          </button>
          <button mat-raised-button color="primary" [disabled]="!hasPrevPage" (click)="pagePrecedente()">
            Prev
          </button>
          <button mat-raised-button color="primary" [disabled]="!hasNextPage" (click)="pageSuivante()">
            Suiv
          </button>
          <button mat-raised-button color="primary" (click)="dernierePage()">
            Dernière
          </button>
        </nav>

        <mat-list *ngFor="let a of assignments">
          <nav>
            <a routerLink="/assignment/{{a._id}}">
              <h3 mat-subheader>{{a.dateDeRendu | date}}</h3>
              <!-- <mat-list-item> -->
              <mat-divider></mat-divider>
              <p *ngIf="a.rendu; else nonsoumis" appRendu>
                Exercice : {{a.nom}}
              </p>
              <p>
                Matière : {{a.matiere[0]?.libelle}}
              </p>
              <p>
                Prof : {{a.prof[0]?.prenom + " " + a.prof[0]?.nom}}
              </p>
              <p>
                Elève: {{a.auteur}}
              </p>
              <ng-template #nonsoumis>
                <p appNonRendu>
                  {{a.nom}}, non encore rendu par l'élève.
                </p>
              </ng-template>

              <!-- </mat-list-item> -->
            </a>
          </nav>
        </mat-list>
      </ng-template>
    </mat-tab>
    <mat-tab label="Devoirs rendus">
      <ng-template matTabContent>
        <h1>Liste des assignments rendus</h1>
        <mat-divider></mat-divider>
        <nav>
          <button mat-raised-button color="primary" (click)="premierePage()">
            Première
          </button>
          <button mat-raised-button color="primary" [disabled]="!hasPrevPage" (click)="pagePrecedente()">
            Prev
          </button>
          <button mat-raised-button color="primary" [disabled]="!hasNextPage" (click)="pageSuivante()">
            Suiv
          </button>
          <button mat-raised-button color="primary" (click)="dernierePage()">
            Dernière
          </button>
        </nav>

        <mat-list *ngFor="let a of assignments">
          <nav>
            <a routerLink="/assignment/{{a._id}}">
              <h3 mat-subheader>{{a.dateDeRendu | date}}</h3>
              <!-- <mat-list-item> -->
              <mat-divider></mat-divider>
              <p *ngIf="a.rendu; else nonsoumis" appRendu>
                Exercice : {{a.nom}}
              </p>
              <p>
                Matière : {{a.matiere[0]?.libelle}}
              </p>
              <p>
                Prof : {{a.prof[0]?.prenom + " " + a.prof[0]?.nom}}
              </p>
              <p>
                Elève: {{a.auteur}}
              </p>
              <ng-template #nonsoumis>
                <p appNonRendu>
                  {{a.nom}}, non encore rendu par l'élève.
                </p>
              </ng-template>

              <!-- </mat-list-item> -->
            </a>
          </nav>
        </mat-list>
      </ng-template>
    </mat-tab>
  </mat-tab-group>
</main>
</mat-card>
